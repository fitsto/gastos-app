<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>
      <h1>Administrar categorías</h1>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <!-- Lista de categorías -->
    <ion-list class="categories-list">
      <ion-item *ngFor="let category of categories" lines="none" class="category-item">
        <div class="category-color" [style.background-color]="category.color"></div>
        <ion-label>{{ category.name }}</ion-label>
        <ion-buttons slot="end">
          <ion-button fill="clear" (click)="handleEdit(category)">
            <ion-icon name="pencil-outline" slot="icon-only"></ion-icon>
          </ion-button>
          <ion-button fill="clear" color="danger" (click)="handleDelete(category.id)" [disabled]="category.is_default">
            <ion-icon name="trash-outline" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-item>
    </ion-list>

    <!-- Botón para agregar nueva categoría -->
    <ion-button expand="block" fill="outline" class="add-category-button" (click)="showAddCategoryModal()">
      <ion-icon name="add-circle-outline" slot="start"></ion-icon>
      Agregar nueva categoría
    </ion-button>

    <!-- Estado vacío -->
    <div *ngIf="categories.length === 0" class="empty-state">
      <ion-icon name="folder-outline" class="empty-icon"></ion-icon>
      <h2>No hay categorías</h2>
      <p>Agrega tu primera categoría para comenzar</p>
      <ion-button expand="block" (click)="showAddCategoryModal()">
        Agregar primera categoría
      </ion-button>
    </div>
  </div>
</ion-content>
